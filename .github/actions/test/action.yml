name: Test action
description: Test action

inputs:
  name:
    description: Artifact name
    required: true

runs:
  using: composite
  steps:
    - uses: hmarr/debug-action@v2.1.0

    - name: Temp dir
      id: temp-dir
      shell: bash
      run: echo "path=$(mktemp -d)" >> $GITHUB_OUTPUT

    - name: Checkout
      uses: actions/checkout@v4
      with:
        repository: nikitabelonogov/gh-action-test
        path: ${{ steps.temp-dir.outputs.path }}

    - name: Test Input
      shell: bash
      run: echo "${{ inputs.name }}"

    - name: Test File
      shell: bash
      run: cat "${{ steps.temp-dir.outputs.path }}/file.text"
